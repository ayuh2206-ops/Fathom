<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FATHOM | IMAX Visual Engine (Performance Mode)</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Cinzel', 'serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        ocean: {
                            light: '#38bdf8',
                            DEFAULT: '#0ea5e9',
                            dark: '#0369a1',
                        }
                    },
                    animation: {
                        'scroll': 'scroll 40s linear infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'shimmer': 'shimmer 2s infinite linear',
                        'scan': 'scan 3s linear infinite',
                        'progress': 'progress 4s linear infinite',
                    },
                    keyframes: {
                        scroll: {
                            '0%': { transform: 'translateX(0)' },
                            '100%': { transform: 'translateX(-50%)' },
                        },
                        shimmer: {
                            '0%': { transform: 'translateX(-100%)' },
                            '100%': { transform: 'translateX(200%)' },
                        },
                        scan: {
                            '0%': { transform: 'translateY(-100%)', opacity: '0' },
                            '50%': { opacity: '1' },
                            '100%': { transform: 'translateY(200%)', opacity: '0' },
                        },
                        progress: {
                            '0%': { width: '0%' },
                            '100%': { width: '100%' },
                        }
                    }
                }
            }
        }
    </script>

    <!-- ROBUST IMPORT MAP (unpkg) -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
                "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
            }
        }
    </script>

    <style>
        body { margin: 0; background: #020205; color: #FBFBFB; overflow-x: hidden; font-family: 'Inter', sans-serif; }
        #canvas-container { position: fixed; top: 0; left: 0; width: 100%; height: 100vh; z-index: 0; }
        
        /* OPTIMIZED OVERLAYS - Removed Heavy Grain */
        .vignette {
            position: fixed; inset: 0; pointer-events: none; z-index: 40;
            background: radial-gradient(circle at center, transparent 30%, rgba(0,5,10,0.4) 80%, rgba(0,0,0,0.95) 100%);
        }
        .letterbox { position: fixed; width: 100%; height: 10vh; background: black; z-index: 60; }
        .lb-top { top: 0; }
        .lb-bottom { bottom: 0; }
        
        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #334455; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #556677; }

        /* LOADING SPINNER */
        #loader {
            position: fixed; inset: 0; background: #000; z-index: 100;
            display: flex; justify-content: center; align-items: center;
            color: #fff; font-family: 'JetBrains Mono', monospace;
            transition: opacity 1s ease; pointer-events: none;
        }

        /* UTILITIES */
        .glass-panel {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        /* Dropdown custom style */
        select option {
            background-color: #0f172a;
            color: white;
        }
    </style>
</head>
<body>
    <div id="loader">/// OPTIMIZING SHADERS...</div>
    <div id="canvas-container"></div>
    <div id="root"></div>

    <!-- UI Logic -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- 3D ENGINE -->
    <script type="module">
        import * as THREE from 'three';
        import { Water } from 'three/addons/objects/Water.js';
        import { Sky } from 'three/addons/objects/Sky.js';
        import { EffectComposer } from 'three/addons/postprocessing/EffectComposer.js';
        import { RenderPass } from 'three/addons/postprocessing/RenderPass.js';
        import { UnrealBloomPass } from 'three/addons/postprocessing/UnrealBloomPass.js';
        import { OutputPass } from 'three/addons/postprocessing/OutputPass.js';

        // ... existing 3D code setup ...
        function createWaterNormalMap() {
            const canvas = document.createElement('canvas');
            canvas.width = 512;
            canvas.height = 512;
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = '#8080ff';
            ctx.fillRect(0, 0, 512, 512);
            for (let i = 0; i < 20000; i++) {
                const x = Math.random() * 512;
                const y = Math.random() * 512;
                const size = Math.random() * 4 + 1;
                const r = Math.floor(100 + Math.random() * 55);
                const g = Math.floor(100 + Math.random() * 55);
                ctx.fillStyle = `rgb(${r}, ${g}, 255)`;
                ctx.fillRect(x, y, size, size);
            }
            const texture = new THREE.CanvasTexture(canvas);
            texture.wrapS = texture.wrapT = THREE.RepeatWrapping;
            return texture;
        }

        const container = document.getElementById('canvas-container');
        const loader = document.getElementById('loader');
        
        const scene = new THREE.Scene();
        // Cinematic Dark Fog
        scene.fog = new THREE.FogExp2(0x0a1014, 0.001); 

        const camera = new THREE.PerspectiveCamera(35, window.innerWidth / window.innerHeight, 1, 10000);
        camera.position.set(50, 30, 150); 

        // PERFORMANCE: Cap pixel ratio at 1 to save GPU
        const renderer = new THREE.WebGLRenderer({ antialias: false, powerPreference: "default" });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1)); // FORCE 1.0 MAX
        renderer.toneMapping = THREE.ACESFilmicToneMapping;
        renderer.toneMappingExposure = 0.5; 
        renderer.shadowMap.enabled = true;
        renderer.shadowMap.type = THREE.PCFSoftShadowMap; // Keep soft shadows but reduce res
        container.appendChild(renderer.domElement);

        const waterGeometry = new THREE.PlaneGeometry(10000, 10000);
        const water = new Water(
            waterGeometry,
            {
                textureWidth: 512,
                textureHeight: 512,
                waterNormals: createWaterNormalMap(),
                sunDirection: new THREE.Vector3(),
                sunColor: 0xffffff,
                waterColor: 0x01131e, 
                distortionScale: 3.7,
                fog: scene.fog !== undefined
            }
        );
        water.rotation.x = -Math.PI / 2;
        scene.add(water);

        const sky = new Sky();
        sky.scale.setScalar(10000);
        scene.add(sky);
        const skyUniforms = sky.material.uniforms;
        skyUniforms['turbidity'].value = 10.0; 
        skyUniforms['rayleigh'].value = 2.0; 
        skyUniforms['mieCoefficient'].value = 0.005;
        skyUniforms['mieDirectionalG'].value = 0.8;

        const sun = new THREE.Vector3();
        const sunPhi = THREE.MathUtils.degToRad(85); 
        const sunTheta = THREE.MathUtils.degToRad(160); 
        sun.setFromSphericalCoords(1, sunPhi, sunTheta);
        sky.material.uniforms['sunPosition'].value.copy(sun);
        water.material.uniforms['sunDirection'].value.copy(sun).normalize();

        const ambientLight = new THREE.AmbientLight(0x112233, 0.3); 
        scene.add(ambientLight);

        // PERFORMANCE: Reduced shadow map size from 4096 to 1024
        const mainLight = new THREE.DirectionalLight(0xcceeff, 2.0);
        mainLight.position.setFromSphericalCoords(200, sunPhi, sunTheta);
        mainLight.castShadow = true;
        mainLight.shadow.mapSize.width = 1024;
        mainLight.shadow.mapSize.height = 1024;
        mainLight.shadow.bias = -0.0001;
        scene.add(mainLight);

        const fillLight = new THREE.DirectionalLight(0x001122, 1.0);
        fillLight.position.set(0, -10, 50); 
        scene.add(fillLight);

        const shipGroup = new THREE.Group();
        const steelDark = new THREE.MeshStandardMaterial({ color: 0x0f0f0f, roughness: 0.4, metalness: 0.7 }); 
        const steelRed = new THREE.MeshStandardMaterial({ color: 0x330505, roughness: 0.6, metalness: 0.2 }); 
        const steelWhite = new THREE.MeshStandardMaterial({ color: 0x8899aa, roughness: 0.4, metalness: 0.5 }); 

        const hullLength = 200;
        const hullWidth = 32;

        // PERFORMANCE: Increased segments for smoother, organic curvature
        function createParabolicHull(width, height, length, material, isLower, sheerStrength = 0) {
            // High res for smooth curves
            const geo = new THREE.BoxGeometry(width, height, length, 60, 12, 120);
            const pos = geo.attributes.position;
            const vector = new THREE.Vector3();

            for (let i = 0; i < pos.count; i++) {
                vector.set(pos.getX(i), pos.getY(i), pos.getZ(i));
                
                // Normalized coordinates (-1 to 1)
                const zNorm = vector.z / (length / 2); 
                const yNorm = vector.y / (height / 2); 

                // 1. LONGITUDINAL TAPERING (REALISTIC CONTAINER SHIP PROFILE)
                // Negative Z = BOW (Front), Positive Z = STERN (Back)
                let widthFactor = 1.0;
                
                if (zNorm < -0.2) { // BOW SECTION (Front)
                    // Sharp entry, hollow lines
                    const t = (zNorm - (-0.2)) / (-0.8); 
                    // Cubic easing for a sharp "knife" entry at the bulb
                    widthFactor = 1.0 - (Math.pow(t, 3) * 0.98); 
                } else if (zNorm > 0.45) { // STERN SECTION (Back)
                     // Transom Stern: Tapers more aggressively now for better shaping
                     const t = (zNorm - 0.45) / 0.55;
                     widthFactor = 1.0 - (Math.pow(t, 2.2) * 0.5); // Tapers to 50% width
                }

                // 2. HULL SHAPING
                if (isLower) {
                    // Lower Hull: Box-like midship with rounded bilges
                    const isMidship = zNorm > -0.2 && zNorm < 0.45;
                    // Tighter turn of bilge for max cargo capacity
                    const roundness = isMidship ? 0.15 : 0.8; 
                    
                    if (yNorm < -0.1) {
                        const yDepth = (yNorm - (-0.1)) / -0.9; 
                        widthFactor *= (1.0 - (Math.pow(yDepth, 4) * roundness)); 
                    }
                } else {
                    // Upper Hull: BOW FLARE
                    // Aggressive flare at the bow to throw water aside
                    if (zNorm < -0.4) { 
                        const bowProximity = (zNorm - (-0.4)) / -0.6; // 0 to 1
                        if (yNorm > -0.5) {
                            const flareStrength = Math.pow(bowProximity, 2) * (yNorm + 0.5);
                            widthFactor += flareStrength * 0.8; // Significant flare
                        }
                    }
                }

                vector.x *= widthFactor;

                // 3. SHEER LINE & FORECASTLE (Deck Curve)
                if (sheerStrength > 0) {
                    let sheerOffset = 0;
                    // Forecastle: Raised deck at the bow
                    if (zNorm < -0.35) { 
                        const t = (zNorm - (-0.35)) / (-0.65);
                        sheerOffset = Math.pow(t, 2) * 8.0; 
                    } 
                    // Poop deck / Stern rise
                    else if (zNorm > 0.45) { 
                        const t = (zNorm - 0.45) / 0.55;
                        sheerOffset = Math.pow(t, 2) * 2.0; 
                    }
                     vector.y += sheerOffset;
                }
                pos.setXYZ(i, vector.x, vector.y, vector.z);
            }
            geo.computeVertexNormals();
            const mesh = new THREE.Mesh(geo, material);
            mesh.castShadow = true;
            mesh.receiveShadow = true;
            return mesh;
        }

        // SYNC CONTAINER WIDTHS WITH NEW HULL SHAPE
        function getHullWidth(z) {
             const zNorm = z / (hullLength / 2);
             let widthFactor = 1.0;
             if (zNorm < -0.2) {
                const t = (zNorm - (-0.2)) / (-0.8); 
                widthFactor = 1.0 - (Math.pow(t, 3) * 0.98);
            } else if (zNorm > 0.45) {
                 const t = (zNorm - 0.45) / 0.55;
                 widthFactor = 1.0 - (Math.pow(t, 2.2) * 0.5);
            }
            return hullWidth * widthFactor;
        }

        const lowerHull = createParabolicHull(hullWidth, 8, hullLength - 4, steelRed, true, 0);
        lowerHull.position.y = 0; 
        shipGroup.add(lowerHull);

        const upperHull = createParabolicHull(hullWidth, 12, hullLength, steelDark, false, 1);
        upperHull.position.y = 10; 
        shipGroup.add(upperHull);

        // REALISTIC BULBOUS BOW
        const bulbGeo = new THREE.CylinderGeometry(0, 3, 10, 32);
        bulbGeo.applyMatrix4(new THREE.Matrix4().makeRotationX(-Math.PI / 2));
        // Squeeze it slightly
        bulbGeo.applyMatrix4(new THREE.Matrix4().makeScale(0.8, 0.8, 1.0));
        const bulb = new THREE.Mesh(bulbGeo, steelRed);
        bulb.position.set(0, -3, -(hullLength/2) + 2); 
        shipGroup.add(bulb);
        
        // BULB TIP (Round cap)
        const bulbCap = new THREE.Mesh(new THREE.SphereGeometry(3, 32, 32), steelRed);
        bulbCap.scale.set(0.8, 0.8, 1.5);
        bulbCap.position.set(0, -3, -(hullLength/2) - 3);
        shipGroup.add(bulbCap);

        // TRANSOM (Flat Stern) DETAIL - Adjusted to match new stern width (0.5 factor)
        const transom = new THREE.Mesh(new THREE.BoxGeometry(hullWidth * 0.5, 12, 1), steelDark);
        transom.position.set(0, 10, (hullLength/2) - 0.5);
        shipGroup.add(transom);
        
        // RUDDER
        const rudder = new THREE.Mesh(new THREE.BoxGeometry(0.5, 12, 8), steelRed);
        rudder.position.set(0, -4, (hullLength/2) - 5);
        shipGroup.add(rudder);
        
        // PROPELLER SHAFT HOUSING
        const propHousing = new THREE.Mesh(new THREE.ConeGeometry(1.5, 4, 32), steelRed);
        propHousing.rotation.x = Math.PI / 2;
        propHousing.position.set(0, -4, (hullLength/2) - 2);
        shipGroup.add(propHousing);

        // BRIDGE & SUPERSTRUCTURE (Tiered Design)
        const bridgeGroup = new THREE.Group();
        bridgeGroup.position.set(0, 16, (hullLength/2) - 25);
        
        // Level 1: Accommodation Block
        const level1 = new THREE.Mesh(new THREE.BoxGeometry(32, 10, 25), steelWhite);
        level1.castShadow = true;
        level1.receiveShadow = true;
        bridgeGroup.add(level1);

        // Level 2: Upper Deck
        const level2 = new THREE.Mesh(new THREE.BoxGeometry(34, 6, 15), steelWhite);
        level2.position.y = 8;
        level2.castShadow = true;
        bridgeGroup.add(level2);
        
        // Level 3: The Bridge (Wheelhouse) with Wings
        const bridgeDeck = new THREE.Group();
        bridgeDeck.position.y = 14;
        
        // Center Section
        const wheelhouse = new THREE.Mesh(new THREE.BoxGeometry(20, 5, 10), steelWhite);
        bridgeDeck.add(wheelhouse);
        
        // Wings (Angled slightly back)
        const wingGeo = new THREE.BoxGeometry(14, 2, 4);
        wingGeo.translate(7, 0, 0); // Pivot from edge
        
        const leftWing = new THREE.Mesh(wingGeo, steelWhite);
        leftWing.position.set(10, -1.5, 0);
        leftWing.rotation.y = -0.2; // Sweep back
        bridgeDeck.add(leftWing);
        
        const rightWing = new THREE.Mesh(wingGeo, steelWhite);
        rightWing.position.set(-10, -1.5, 0);
        rightWing.rotation.y = -Math.PI + 0.2;
        bridgeDeck.add(rightWing);
        
        // Windows (Black strip)
        const windows = new THREE.Mesh(new THREE.BoxGeometry(19, 1.5, 10.1), new THREE.MeshBasicMaterial({color: 0x000000}));
        windows.position.y = 0.5;
        bridgeDeck.add(windows);

        bridgeGroup.add(bridgeDeck);

        // Funnel Complex
        const funnelGroup = new THREE.Group();
        funnelGroup.position.set(0, 18, 10);
        
        // Base
        const funnelBase = new THREE.Mesh(new THREE.BoxGeometry(10, 6, 14), steelWhite);
        funnelGroup.add(funnelBase);
        
        // Main Stack (Aerodynamic shape)
        const stackGeo = new THREE.CylinderGeometry(3, 4, 10, 16);
        stackGeo.scale(1, 1, 1.5); // Oval shape
        const stack = new THREE.Mesh(stackGeo, steelWhite);
        stack.position.y = 8;
        funnelGroup.add(stack);
        
        // Black Top
        const stackTop = new THREE.Mesh(new THREE.CylinderGeometry(3.1, 3.1, 2, 16), new THREE.MeshBasicMaterial({color:0x111111}));
        stackTop.scale.set(1, 1, 1.5);
        stackTop.position.y = 13;
        funnelGroup.add(stackTop);
        
        bridgeGroup.add(funnelGroup);

        // Radar Mast
        const mast = new THREE.Group();
        mast.position.set(0, 19, -5);
        const mastPole = new THREE.Mesh(new THREE.CylinderGeometry(0.5, 0.8, 12), steelWhite);
        mast.add(mastPole);
        const radarBar = new THREE.Mesh(new THREE.BoxGeometry(6, 0.5, 0.5), steelWhite);
        radarBar.position.y = 4;
        mast.add(radarBar);
        bridgeGroup.add(mast);

        shipGroup.add(bridgeGroup);

        const cSize = { w: 2.5, h: 2.5, l: 6 };
        const cGeo = new THREE.BoxGeometry(cSize.w, cSize.h, cSize.l);
        const cMat = new THREE.MeshStandardMaterial({ roughness: 0.7, metalness: 0.3 }); 
        
        const stackStartZ = -(hullLength/2) + 12; 
        const rows = 12; 
        const cols = 24;
        const maxStack = 8;
        const totalCount = rows * cols * maxStack;
        
        const instancedContainers = new THREE.InstancedMesh(cGeo, cMat, totalCount);
        instancedContainers.castShadow = true;
        instancedContainers.receiveShadow = true;
        
        const dummy = new THREE.Object3D();
        const color = new THREE.Color();
        const containerPalette = [
            0x551111, 0x112233, 0x223333, 0x664422, 0x333333, 0x999999
        ];

        let index = 0;
        for(let z = 0; z < cols; z++) {
            const zPos = stackStartZ + (z * (cSize.l + 0.5));
            const availableWidth = getHullWidth(zPos);
            
            if (z % 5 === 0 && z !== 0) continue; 
            if (zPos > (hullLength/2) - 35) continue;

            for(let x = 0; x < rows; x++) {
                const xPos = (x * (cSize.w + 0.2)) - ((rows * cSize.w)/2) + 1.25;
                if (Math.abs(xPos) > (availableWidth / 2) - 2) continue;

                let h = Math.floor(Math.random() * 6) + 2; 
                if (Math.abs(xPos) > (availableWidth / 2) - 6) h = Math.max(2, h-3);

                const t = zPos / (hullLength/2);
                let sheerY = 0;
                if (t < -0.2) sheerY = Math.pow((t - (-0.2))/(-0.8), 2) * 7.5;
                else if (t > 0.4) sheerY = Math.pow((t - 0.4)/0.6, 2) * 2.5;

                for(let y = 0; y < h; y++) {
                    dummy.position.set(xPos, 17.5 + (y * cSize.h) + sheerY, zPos);
                    dummy.rotation.y = (Math.random() - 0.5) * 0.05;
                    dummy.updateMatrix();
                    instancedContainers.setMatrixAt(index, dummy.matrix);
                    
                    color.setHex(containerPalette[Math.floor(Math.random() * containerPalette.length)]);
                    instancedContainers.setColorAt(index, color);
                    index++;
                }
            }
        }
        shipGroup.add(instancedContainers);

        // PERFORMANCE: Reduced light count on nav lights
        const addNavLight = (col, x, y, z, intensity) => {
            const mesh = new THREE.Mesh(new THREE.SphereGeometry(0.5, 4, 4), new THREE.MeshBasicMaterial({color: col}));
            mesh.position.set(x,y,z);
            shipGroup.add(mesh);
            const l = new THREE.PointLight(col, intensity, 60); 
            l.position.set(x,y,z);
            shipGroup.add(l);
        };

        addNavLight(0xff0000, -16, 15, -(hullLength/2) + 10, 8);
        addNavLight(0x00ff00, 16, 15, -(hullLength/2) + 10, 8);
        addNavLight(0xffaa00, 0, 45, (hullLength/2) - 30, 10);

        scene.add(shipGroup);

        const composer = new EffectComposer(renderer);
        composer.addPass(new RenderPass(scene, camera));
        
        // Slightly reduced bloom strength
        const bloom = new UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 1.5, 0.4, 0.85);
        bloom.threshold = 0.7; 
        bloom.strength = 0.4; 
        bloom.radius = 0.3;
        composer.addPass(bloom);
        composer.addPass(new OutputPass());

        let targetScroll = 0;
        let currentScroll = 0;

        const clock = new THREE.Clock();
        
        loader.style.opacity = '0';
        setTimeout(() => loader.remove(), 1000);

        function animate() {
            requestAnimationFrame(animate);
            const t = clock.getElapsedTime();

            water.material.uniforms['time'].value += 1.0 / 60.0;

            const heave = Math.sin(t * 0.4) * 1.5 + Math.sin(t * 0.15) * 0.5;
            shipGroup.position.y = heave - 1.5; 

            shipGroup.rotation.z = Math.cos(t * 0.25) * 0.03;
            shipGroup.rotation.x = Math.sin(t * 0.2) * 0.02;

            currentScroll += (targetScroll - currentScroll) * 0.05;

            shipGroup.position.z = -currentScroll * 800;
            
            const camBob = Math.sin(t * 0.5) * 0.5;
            
            const targetY = 30 + (currentScroll * 40) + camBob;
            const targetZ = 150 + (currentScroll * 150);
            
            camera.position.y += (targetY - camera.position.y) * 0.05; 
            camera.position.z += (targetZ - camera.position.z) * 0.05;
            camera.lookAt(0, 15, shipGroup.position.z);

            composer.render();
        }
        animate();

        window.addEventListener('scroll', () => {
            const totalHeight = document.documentElement.scrollHeight - window.innerHeight;
            const rawProgress = window.scrollY / totalHeight;
            targetScroll = Math.min(Math.max(rawProgress, 0), 1);
            if(window.updateUI) window.updateUI(window.scrollY);
        });
        
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
            composer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>

    <!-- UI LAYER -->
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ANIMATION PRIMITIVES ---
        const FadeIn = ({ children, delay = 0, direction = "up", className = "", fullWidth = false }) => {
            const [isVisible, setIsVisible] = useState(false);
            const ref = useRef(null);

            useEffect(() => {
                const observer = new IntersectionObserver(
                    ([entry]) => {
                        if (entry.isIntersecting) {
                            setIsVisible(true);
                            observer.disconnect();
                        }
                    },
                    { threshold: 0.1, rootMargin: "0px 0px -50px 0px" }
                );
                if (ref.current) observer.observe(ref.current);
                return () => observer.disconnect();
            }, []);

            const getTransform = () => {
                if (isVisible) return "translate-x-0 translate-y-0";
                if (direction === "up") return "translate-y-12";
                if (direction === "left") return "-translate-x-12";
                if (direction === "right") return "translate-x-12";
                return "";
            };

            return (
                <div
                    ref={ref}
                    className={`transition-all duration-1000 ease-out transform ${
                        isVisible ? "opacity-100 blur-0" : "opacity-0 blur-sm"
                    } ${getTransform()} ${className} ${fullWidth ? 'w-full' : ''}`}
                    style={{ transitionDelay: `${delay}ms` }}
                >
                    {children}
                </div>
            );
        };

        // --- SVG ICONS ---
        const Icons = {
            AlertTriangle: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg>,
            Anchor: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="5" r="3"/><line x1="12" x2="12" y1="22" y2="8"/><path d="M5 12H2a10 10 0 0 0 20 0h-3"/></svg>,
            ShieldCheck: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><path d="m9 12 2 2 4-4"/></svg>,
            TrendingUp: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>,
            Globe: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>,
            Check: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 6 9 17l-5-5"/></svg>,
            Search: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>,
            Quote: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M14.017 21L14.017 18C14.017 16.8954 14.9124 16 16.017 16H19.017C19.5693 16 20.017 15.5523 20.017 15V9C20.017 8.44772 19.5693 8 19.017 8H15.017C14.4647 8 14.017 8.44772 14.017 9V11C14.017 11.5523 13.5693 12 13.017 12H12.017V5H22.017V15C22.017 18.3137 19.3307 21 16.017 21H14.017ZM5.0166 21L5.0166 18C5.0166 16.8954 5.91203 16 7.0166 16H10.0166C10.5689 16 11.0166 15.5523 11.0166 15V9C11.0166 8.44772 10.5689 8 10.0166 8H6.0166C5.46432 8 5.0166 8.44772 5.0166 9V11C5.0166 11.5523 4.56889 12 4.0166 12H3.0166V15C13.0166 18.3137 10.3303 21 7.0166 21H5.0166Z" /></svg>,
            X: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/><path d="m6 6 18 18"/></svg>,
            Menu: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>,
        };

        // --- COMPONENTS ---

        const AnimatedCounter = ({ end, suffix = "", prefix = "", duration = 1000 }) => {
            const [count, setCount] = useState(0);
            const [isVisible, setIsVisible] = useState(false);
            const ref = useRef(null);
            const countRef = useRef(0);

            useEffect(() => {
                const observer = new IntersectionObserver(([entry]) => {
                    if (entry.isIntersecting) setIsVisible(true);
                });
                if (ref.current) observer.observe(ref.current);
                return () => observer.disconnect();
            }, []);

            useEffect(() => {
                if (!isVisible) return;
                let startTimestamp = null;
                const startValue = countRef.current;
                const change = end - startValue;
                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    const ease = progress === 1 ? 1 : 1 - Math.pow(2, -10 * progress);
                    const current = Math.floor(startValue + change * ease);
                    setCount(current);
                    countRef.current = current;
                    if (progress < 1) window.requestAnimationFrame(step);
                    else { setCount(end); countRef.current = end; }
                };
                window.requestAnimationFrame(step);
            }, [end, isVisible, duration]);

            return <span ref={ref} className="tabular-nums whitespace-nowrap">{prefix}{count.toLocaleString()}{suffix}</span>;
        };

        const LogoMarquee = () => {
            const logos = ["MAERSK", "CMA CGM", "MSC", "HAPAG-LLOYD", "ONE", "EVERGREEN", "COSCO", "HMM", "ZIM", "YANG MING"];
            return (
                <FadeIn delay={200}>
                    <div id="logos" className="w-full bg-slate-900/50 backdrop-blur-sm border-y border-white/5 py-12 overflow-hidden relative group">
                        <div className="flex animate-scroll whitespace-nowrap gap-16 md:gap-32 w-max group-hover:[animation-play-state:paused]">
                            {[...logos, ...logos].map((logo, i) => (
                                <span key={i} className="cinzel text-2xl md:text-3xl font-bold text-white/20 hover:text-white transition-colors duration-300 cursor-default select-none">
                                    {logo}
                                </span>
                            ))}
                        </div>
                    </div>
                </FadeIn>
            );
        };

        // --- MODAL SYSTEM ---

        const Modal = ({ isOpen, onClose, children, title, maxWidth = "max-w-xl" }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
                    <div className="absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity" onClick={onClose}></div>
                    <div className={`relative w-full ${maxWidth} bg-slate-900 border border-white/10 rounded-2xl shadow-[0_0_50px_rgba(0,0,0,0.8)] overflow-hidden animate-[scale_0.2s_ease-out]`}>
                        <div className="flex items-center justify-between p-6 border-b border-white/5 bg-slate-800/50">
                            <h3 className="cinzel text-xl font-bold text-white">{title}</h3>
                            <a 
                                href="#" 
                                onClick={(e) => { e.preventDefault(); onClose(); }} 
                                className="text-slate-400 hover:text-white transition-colors block p-1"
                                aria-label="Close modal"
                            >
                                <Icons.X />
                            </a>
                        </div>
                        <div className="p-6 max-h-[80vh] overflow-y-auto">
                            {children}
                        </div>
                    </div>
                </div>
            );
        };

        const LoginForm = ({ onClose }) => (
            <div className="space-y-4">
                <input type="email" placeholder="Work Email" className="w-full bg-slate-800 border border-white/10 rounded px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors" />
                <input type="password" placeholder="Password" className="w-full bg-slate-800 border border-white/10 rounded px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors" />
                <div className="flex justify-between items-center text-sm">
                    <label className="flex items-center gap-2 text-slate-400"><input type="checkbox" className="rounded bg-slate-800 border-white/10"/> Remember me</label>
                    <a href="#" className="text-blue-400 hover:text-blue-300">Forgot password?</a>
                </div>
                <button onClick={() => { alert('Demo Login: Access Granted'); onClose(); }} className="w-full py-3 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-full transition-colors shadow-lg shadow-blue-500/20 backdrop-blur-sm">LOG IN</button>
                <div className="text-center text-sm text-slate-500">
                    New to Fathom? <button className="text-blue-400 hover:underline">Request a demo</button>
                </div>
            </div>
        );

        // NEW: Get Started Form with specific fields
        const GetStartedForm = ({ onClose }) => {
            const [selectedCountry, setSelectedCountry] = useState({ code: 'us', dial_code: '+1' });
            const [showCountryDropdown, setShowCountryDropdown] = useState(false);

            // Countries sorted alphabetically
            const countries = [
                { code: 'au', name: 'Australia', dial_code: '+61' },
                { code: 'br', name: 'Brazil', dial_code: '+55' },
                { code: 'ca', name: 'Canada', dial_code: '+1' },
                { code: 'cn', name: 'China', dial_code: '+86' },
                { code: 'fr', name: 'France', dial_code: '+33' },
                { code: 'de', name: 'Germany', dial_code: '+49' },
                { code: 'in', name: 'India', dial_code: '+91' },
                { code: 'it', name: 'Italy', dial_code: '+39' },
                { code: 'jp', name: 'Japan', dial_code: '+81' },
                { code: 'nl', name: 'Netherlands', dial_code: '+31' },
                { code: 'ru', name: 'Russia', dial_code: '+7' },
                { code: 'sg', name: 'Singapore', dial_code: '+65' },
                { code: 'kr', name: 'South Korea', dial_code: '+82' },
                { code: 'es', name: 'Spain', dial_code: '+34' },
                { code: 'se', name: 'Sweden', dial_code: '+46' },
                { code: 'ch', name: 'Switzerland', dial_code: '+41' },
                { code: 'ae', name: 'UAE', dial_code: '+971' },
                { code: 'gb', name: 'United Kingdom', dial_code: '+44' },
                { code: 'us', name: 'United States', dial_code: '+1' }
            ];

            const handleSubmit = (e) => {
                e.preventDefault();
                alert("Account Created Successfully! Redirecting to FATHOM SaaS Portal...");
                onClose();
            };

            return (
                <form onSubmit={handleSubmit} className="space-y-4">
                    <div className="grid grid-cols-2 gap-4">
                        <input required type="text" placeholder="Full Name" className="w-full bg-slate-800 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors" />
                        <input required type="text" placeholder="Company Name" className="w-full bg-slate-800 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors" />
                    </div>
                    <div className="grid grid-cols-2 gap-4">
                        <div className="relative">
                            <select required className="w-full bg-slate-800 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors appearance-none cursor-pointer">
                                <option value="" disabled selected>Fleet Size</option>
                                <option value="1-5">1-5 Vessels</option>
                                <option value="6-20">6-20 Vessels</option>
                                <option value="21-50">21-50 Vessels</option>
                                <option value="51-100">51-100 Vessels</option>
                                <option value="100+">100+ Vessels</option>
                            </select>
                            <div className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400">
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m6 9 6 6 6-6"/></svg>
                            </div>
                        </div>
                        <div className="relative">
                            <select required className="w-full bg-slate-800 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors appearance-none cursor-pointer">
                                <option value="" disabled selected>Company Size</option>
                                <option value="1-10">1-10 employees</option>
                                <option value="11-50">11-50 employees</option>
                                <option value="51-200">51-200 employees</option>
                                <option value="201-1000">201-1,000 employees</option>
                                <option value="1000+">1,000+ employees</option>
                            </select>
                            <div className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400">
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m6 9 6 6 6-6"/></svg>
                            </div>
                        </div>
                    </div>
                    <input required type="email" placeholder="Work Email" className="w-full bg-slate-800 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors" />
                    
                    <div className="flex gap-2 relative">
                        <div className="relative w-1/3">
                            <button 
                                type="button" 
                                onClick={() => setShowCountryDropdown(!showCountryDropdown)}
                                className="w-full bg-slate-800 border border-white/10 rounded-lg px-3 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors flex items-center justify-between"
                            >
                                <div className="flex items-center gap-2">
                                    <img 
                                        src={`https://flagcdn.com/24x18/${selectedCountry.code}.png`} 
                                        srcSet={`https://flagcdn.com/48x36/${selectedCountry.code}.png 2x`}
                                        width="24" 
                                        height="18" 
                                        alt={selectedCountry.code} 
                                        className="rounded-sm object-cover"
                                    />
                                    <span className="text-sm">{selectedCountry.dial_code}</span>
                                </div>
                                <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={`transform transition-transform ${showCountryDropdown ? 'rotate-180' : ''}`}><path d="m6 9 6 6 6-6"/></svg>
                            </button>
                            
                            {showCountryDropdown && (
                                <div className="absolute bottom-full left-0 w-full mb-1 bg-slate-800 border border-white/10 rounded-lg max-h-48 overflow-y-auto z-50 shadow-xl">
                                    {countries.map((country) => (
                                        <div 
                                            key={country.code}
                                            onClick={() => {
                                                setSelectedCountry(country);
                                                setShowCountryDropdown(false);
                                            }}
                                            className="flex items-center gap-3 px-3 py-2 hover:bg-white/10 cursor-pointer transition-colors"
                                        >
                                            <img 
                                                src={`https://flagcdn.com/24x18/${country.code}.png`} 
                                                width="20" 
                                                height="15" 
                                                alt={country.name} 
                                                className="rounded-sm"
                                            />
                                            <span className="text-sm text-slate-300">{country.dial_code}</span>
                                        </div>
                                    ))}
                                </div>
                            )}
                        </div>
                        <input required type="tel" placeholder="Phone Number" className="w-2/3 bg-slate-800 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors" />
                    </div>
                    
                    <button type="submit" className="w-full py-4 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold rounded-full transition-all shadow-[0_0_20px_rgba(59,130,246,0.3)] backdrop-blur-md mt-6">
                        GET STARTED
                    </button>
                </form>
            );
        };

        const ROICalculator = ({ onRecover }) => {
            const [volume, setVolume] = useState(5000);
            const [cost, setCost] = useState(2500);
            const [errorRate, setErrorRate] = useState(3);
            
            const potentialLoss = Math.floor(volume * cost * (errorRate / 100));

            return (
                <div className="bg-slate-900/60 backdrop-blur-xl border border-white/10 rounded-xl p-8 shadow-2xl overflow-hidden relative group">
                    <div className="flex justify-between items-center mb-6">
                        <h3 className="cinzel text-xl text-white font-bold">ROI Estimator</h3>
                        <div className="flex items-center gap-2 text-green-400">
                            <Icons.TrendingUp />
                            <span className="mono text-xs font-bold">LIVE CALC</span>
                        </div>
                    </div>
                    
                    <div className="space-y-6 mb-8">
                        <div>
                            <div className="flex justify-between text-sm text-slate-400 mb-2">
                                <span>Annual Shipment Volume</span>
                                <span className="text-white mono">{volume.toLocaleString()} TEU</span>
                            </div>
                            <input type="range" min="1000" max="50000" step="100" value={volume} onChange={(e) => setVolume(Number(e.target.value))} className="w-full accent-ocean h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer"/>
                        </div>
                        <div>
                            <div className="flex justify-between text-sm text-slate-400 mb-2">
                                <span>Avg. Cost per Container</span>
                                <span className="text-white mono">${cost.toLocaleString()}</span>
                            </div>
                            <input type="range" min="500" max="10000" step="100" value={cost} onChange={(e) => setCost(Number(e.target.value))} className="w-full accent-ocean h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer"/>
                        </div>
                        <div>
                            <div className="flex justify-between text-sm text-slate-400 mb-2">
                                <span>Industry Avg. Error Rate</span>
                                <span className="text-white mono">{errorRate}%</span>
                            </div>
                            <input type="range" min="1" max="10" step="0.5" value={errorRate} onChange={(e) => setErrorRate(Number(e.target.value))} className="w-full accent-ocean h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer"/>
                        </div>
                    </div>

                    <div className="border-t border-white/10 pt-6">
                        <div className="text-slate-400 text-sm mb-1">Estimated Recoverable Revenue</div>
                        <div className="text-3xl md:text-5xl font-bold text-white font-mono drop-shadow-[0_0_15px_rgba(74,222,128,0.2)] break-words mb-6">
                            <AnimatedCounter end={potentialLoss} prefix="$" duration={500} />
                        </div>
                        <button 
                            onClick={() => onRecover({ volume, cost, errorRate, potentialLoss })}
                            className="w-full py-3 rounded-full bg-white/90 backdrop-blur-md border border-white/50 text-blue-900 font-bold hover:bg-white transition-transform active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.2)]"
                        >
                            Recover This Now
                        </button>
                    </div>
                </div>
            );
        };

        const ProtocolAnimation = ({ onStepClick }) => {
            const [activeStep, setActiveStep] = useState(0);

            useEffect(() => {
                const interval = setInterval(() => {
                    setActiveStep((prev) => (prev + 1) % 3);
                }, 4000); 
                return () => clearInterval(interval);
            }, []);

            const steps = [
                { 
                    id: "01",
                    icon: <Icons.Search />, 
                    title: "Data Ingestion", 
                    desc: "API uplink established. Ingesting real-time invoices and satellite telemetry.",
                    status: "UPLINK ACTIVE"
                },
                { 
                    id: "02",
                    icon: <Icons.ShieldCheck />, 
                    title: "Deep Verification", 
                    desc: "Cross-referencing geofence timestamps against carrier claims. Anomalies detected.",
                    status: "SCANNING..."
                },
                { 
                    id: "03",
                    icon: <Icons.TrendingUp />, 
                    title: "Revenue Reclaim", 
                    desc: "Automated dispute generation. Capital recovery protocols initiated.",
                    status: "EXECUTING"
                }
            ];

            return (
                <div className="relative px-4 py-8">
                    <div className="hidden md:block absolute top-24 left-[16%] right-[16%] h-0.5 bg-slate-800/50 z-0 overflow-hidden">
                        <div className="absolute inset-0 bg-gradient-to-r from-transparent via-blue-500 to-transparent w-1/2 h-full animate-[shimmer_2s_infinite_linear]"></div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-3 gap-8 relative z-10">
                        {steps.map((item, i) => {
                            const isActive = i === activeStep;
                            return (
                                <div key={i} onClick={() => onStepClick(item)} className={`relative group cursor-pointer transition-all duration-500 ${isActive ? 'scale-105' : 'opacity-50 hover:opacity-100 scale-100'}`}>
                                    <div className="absolute -top-12 -right-4 text-9xl font-bold text-white/5 font-mono select-none pointer-events-none">{item.id}</div>
                                    <div className={`h-full p-8 rounded-xl border backdrop-blur-md transition-all duration-500 flex flex-col items-start relative overflow-hidden ${isActive ? 'bg-slate-900/80 border-blue-500/50 shadow-[0_0_50px_rgba(59,130,246,0.2)]' : 'bg-slate-900/20 border-white/5 group-hover:bg-slate-800/50'}`}>
                                        {isActive && <div className="absolute bottom-0 left-0 h-1 bg-blue-500 shadow-[0_0_10px_rgba(59,130,246,1)] animate-[progress_4s_linear_forward]" style={{width: '100%'}}></div>}
                                        <div className="flex items-center gap-3 mb-6 w-full">
                                            <div className={`w-12 h-12 rounded flex items-center justify-center border transition-all duration-500 ${isActive ? 'bg-blue-500/10 border-blue-400 text-blue-400 shadow-[0_0_15px_rgba(59,130,246,0.3)]' : 'bg-slate-800 border-white/10 text-slate-500'}`}>{item.icon}</div>
                                            <div className="font-mono text-[10px] tracking-widest text-blue-300">
                                                {isActive ? <span className="flex items-center gap-2"><span className="w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse"></span>{item.status}</span> : <span className="text-slate-600">STANDBY</span>}
                                            </div>
                                        </div>
                                        <h3 className={`text-xl font-bold mb-3 cinzel transition-colors ${isActive ? 'text-white' : 'text-slate-400 group-hover:text-white'}`}>{item.title}</h3>
                                        <p className={`text-sm leading-relaxed font-mono transition-colors ${isActive ? 'text-blue-100' : 'text-slate-500'}`}>{item.desc}</p>
                                        {isActive && <div className="absolute inset-0 bg-gradient-to-b from-transparent via-blue-400/5 to-transparent h-[50%] w-full animate-scan pointer-events-none"></div>}
                                    </div>
                                    <div className={`hidden md:block absolute -top-[3.25rem] left-1/2 -translate-x-1/2 w-4 h-4 rounded-full border-2 z-20 transition-all duration-500 ${isActive ? 'bg-blue-500 border-blue-400 shadow-[0_0_15px_rgba(59,130,246,1)]' : 'bg-slate-900 border-slate-700'}`}></div>
                                </div>
                            );
                        })}
                    </div>
                </div>
            );
        };

        const NavBar = ({ scrollY, onLogin, onScrollTo }) => {
            const isScrolled = scrollY > 50;
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

            return (
                <nav className={`fixed top-0 left-0 w-full z-50 transition-all duration-300 ${isScrolled ? 'bg-black/80 backdrop-blur-md border-b border-white/5 py-4' : 'py-8 bg-transparent'}`}>
                    <div className="max-w-7xl mx-auto px-8 flex justify-between items-center">
                        <div 
                            className="flex items-center gap-2 cursor-pointer group" 
                            onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}
                        >
                            <span className="text-2xl transform group-hover:scale-110 group-hover:rotate-12 transition-transform duration-300"></span>
                            <span className="cinzel font-bold text-2xl text-white tracking-widest group-hover:text-blue-400 transition-colors">FATHOM</span>
                        </div>

                        {/* Desktop Nav */}
                        <div className="hidden md:flex items-center gap-8">
                            <button onClick={() => onScrollTo('platform')} className="text-sm font-medium text-slate-300 hover:text-blue-400 transition-colors uppercase tracking-wider">Platform</button>
                            <button onClick={() => onScrollTo('solutions')} className="text-sm font-medium text-slate-300 hover:text-blue-400 transition-colors uppercase tracking-wider">Solutions</button>
                            <button onClick={() => onScrollTo('pricing')} className="text-sm font-medium text-slate-300 hover:text-blue-400 transition-colors uppercase tracking-wider">Pricing</button>
                            <button 
                                onClick={onLogin}
                                className="px-6 py-2 rounded-full bg-white/5 backdrop-blur-md border border-white/10 text-blue-100 hover:bg-white/10 hover:border-blue-400/50 hover:text-white transition-all shadow-[0_0_15px_rgba(59,130,246,0.1)]"
                            >
                                CLIENT LOGIN
                            </button>
                        </div>

                        {/* Mobile Menu Toggle */}
                        <button className="md:hidden text-white" onClick={() => setMobileMenuOpen(!mobileMenuOpen)}>
                            <Icons.Menu />
                        </button>
                    </div>

                    {/* Mobile Menu */}
                    {mobileMenuOpen && (
                        <div className="md:hidden absolute top-full left-0 w-full bg-slate-900 border-b border-white/10 p-6 flex flex-col gap-4 animate-[slideDown_0.3s_ease-out]">
                             <button onClick={() => { onScrollTo('platform'); setMobileMenuOpen(false); }} className="text-left text-white py-2">Platform</button>
                             <button onClick={() => { onScrollTo('solutions'); setMobileMenuOpen(false); }} className="text-left text-white py-2">Solutions</button>
                             <button onClick={() => { onScrollTo('pricing'); setMobileMenuOpen(false); }} className="text-left text-white py-2">Pricing</button>
                             <button onClick={onLogin} className="w-full py-3 bg-blue-600 text-white rounded font-bold">Client Login</button>
                        </div>
                    )}
                </nav>
            );
        };

        const App = () => {
            const [scrollY, setScrollY] = useState(0);
            const [modalState, setModalState] = useState({ isOpen: false, type: null, data: null });

            useEffect(() => {
                window.updateUI = (y) => setScrollY(y);
            }, []);

            const openModal = (type, data = null) => {
                setModalState({ isOpen: true, type, data });
            };

            const closeModal = () => {
                setModalState({ isOpen: false, type: null, data: null });
            };

            const scrollToSection = (id) => {
                const el = document.getElementById(id);
                if (el) {
                    const offset = 80;
                    const top = el.offsetTop - offset;
                    window.scrollTo({ top, behavior: 'smooth' });
                }
            };

            // Modal Content Switcher
            const renderModalContent = () => {
                switch(modalState.type) {
                    case 'login': return <LoginForm onClose={closeModal} />;
                    case 'signup': return <GetStartedForm onClose={closeModal} />;
                    case 'video': return (
                        <div className="aspect-video bg-black rounded flex items-center justify-center border border-white/10">
                            <div className="text-center">
                                <div className="text-6xl mb-4"></div>
                                <p className="text-slate-400">Interactive Product Tour Placeholder</p>
                            </div>
                        </div>
                    );
                    case 'calendar': return (
                        <div className="text-center py-8">
                            <h4 className="text-white text-lg font-bold mb-4">Select a Time</h4>
                            <div className="grid grid-cols-3 gap-2 mb-4">
                                {[9, 10, 11, 13, 14, 15].map(time => (
                                    <button key={time} onClick={() => { alert('Meeting Confirmed'); closeModal(); }} className="p-3 bg-slate-800 hover:bg-blue-600 rounded-full text-sm transition-colors">{time}:00 AM</button>
                                ))}
                            </div>
                            <p className="text-xs text-slate-500">Timezone: UTC-08:00 (Pacific Time)</p>
                        </div>
                    );
                    case 'enterprise': return (
                         <div className="space-y-4">
                            <p className="text-slate-300 text-sm mb-4">Please detail your fleet requirements for a custom quote.</p>
                            <textarea placeholder="Fleet size, integrations needed, etc." className="w-full bg-slate-800 border border-white/10 rounded px-4 py-3 text-white h-32 focus:outline-none focus:border-blue-500"></textarea>
                            <button onClick={() => { alert('Inquiry Sent. Priority Support will contact you shortly.'); closeModal(); }} className="w-full py-3 bg-white text-black font-bold rounded-full hover:bg-slate-200 shadow-lg backdrop-blur-md">CONTACT SALES</button>
                        </div>
                    );
                    case 'protocol': return (
                        <div>
                            <p className="text-slate-300 mb-6 leading-relaxed">{modalState.data.desc} This process runs continuously in the background, utilizing our proprietary neural network to identify anomalies that traditional rule-based systems miss.</p>
                            <button className="w-full py-3 border border-white/20 hover:bg-white/10 rounded-full text-white transition-colors backdrop-blur-md">View Technical Documentation</button>
                        </div>
                    );
                    default: return null;
                }
            };

            const getModalTitle = () => {
                switch(modalState.type) {
                    case 'login': return 'Client Portal Access';
                    case 'signup': return 'Create Your Account';
                    case 'video': return 'Fathom Platform Demo';
                    case 'calendar': return 'Schedule a Discovery Call';
                    case 'enterprise': return 'Enterprise Solution Inquiry';
                    case 'protocol': return modalState.data?.title || 'System Protocol';
                    default: return '';
                }
            };

            return (
                <div className="relative w-full z-10">
                    <NavBar scrollY={scrollY} onLogin={() => openModal('login')} onScrollTo={scrollToSection} />
                    
                    <Modal isOpen={modalState.isOpen} onClose={closeModal} title={getModalTitle()}>
                        {renderModalContent()}
                    </Modal>

                    <div className="vignette"></div>
                    <div className="letterbox lb-top"></div>
                    <div className="letterbox lb-bottom"></div>

                    {/* SECTION 1: HERO */}
                    <div className="h-screen relative flex items-center justify-center pointer-events-none">
                        <div className="text-center transition-opacity duration-300 pointer-events-auto" style={{opacity: Math.max(0, 1 - scrollY / 600)}}>
                            <h1 className="cinzel text-8xl md:text-9xl font-bold text-transparent bg-clip-text bg-gradient-to-b from-white via-blue-100 to-blue-400 tracking-tighter drop-shadow-[0_10px_20px_rgba(0,0,0,0.9)] mb-8">
                                FATHOM
                            </h1>
                            <div className="flex flex-col md:flex-row gap-4 justify-center items-center">
                                <button onClick={() => openModal('signup')} className="px-8 py-4 rounded-full bg-blue-600/80 backdrop-blur-md border border-blue-400/30 text-white font-bold tracking-wide shadow-[0_0_30px_rgba(37,99,235,0.3)] hover:bg-blue-500/90 hover:shadow-[0_0_40px_rgba(37,99,235,0.5)] transition-all hover:scale-105">
                                    GET STARTED
                                </button>
                                <button onClick={() => openModal('signup')} className="px-8 py-4 rounded-full bg-white/5 backdrop-blur-md border border-white/10 text-white font-bold tracking-wide hover:bg-white/10 hover:border-white/30 transition-all shadow-[0_4px_30px_rgba(0,0,0,0.1)]">
                                    START 7-DAY FREE TRIAL
                                </button>
                            </div>
                        </div>
                        
                        <div 
                            onClick={() => scrollToSection('logos')}
                            className="absolute bottom-12 animate-bounce text-white/50 text-2xl cursor-pointer pointer-events-auto hover:text-white transition-colors"
                        >
                            
                        </div>
                    </div>

                    {/* SECTION 2: SOCIAL PROOF */}
                    <LogoMarquee />

                    {/* SECTION 3: STATISTICS DASHBOARD */}
                    <div id="platform" className="bg-gradient-to-b from-slate-900/80 to-slate-900/90 py-24 px-8 backdrop-blur-sm border-t border-white/5">
                        <div className="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
                            {[
                                { label: "Recovered Capital", val: 142, suffix: "K+", prefix: "$" },
                                { label: "Routes Monitored", val: 8500, suffix: "" },
                                { label: "Carriers Audited", val: 124, suffix: "" }
                            ].map((stat, i) => (
                                <FadeIn key={i} delay={i * 150} direction="up" className="h-full">
                                    <div className="bg-white/5 border border-white/10 p-8 rounded-xl backdrop-blur-md text-center group hover:bg-white/10 transition-all h-full flex flex-col justify-center overflow-hidden">
                                        <div className="text-3xl md:text-4xl lg:text-5xl font-bold text-white mono mb-2 group-hover:text-blue-400 transition-colors break-words">
                                            <AnimatedCounter end={stat.val} prefix={stat.prefix} suffix={stat.suffix} />
                                        </div>
                                        <div className="text-slate-400 tracking-widest text-xs font-bold uppercase">{stat.label}</div>
                                    </div>
                                </FadeIn>
                            ))}
                        </div>
                    </div>

                    {/* SECTION 4: PROBLEM STATEMENT & ROI */}
                    <div className="py-24 px-8 bg-slate-950/80 backdrop-blur-md border-y border-white/5 relative">
                        <div className="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                            <FadeIn direction="left">
                                <div>
                                    <div className="mono text-orange-500 text-xs font-bold tracking-widest mb-4">/// SYSTEM ALERT</div>
                                    <h2 className="cinzel text-4xl md:text-5xl font-bold text-white mb-6 leading-tight">
                                        The Ocean is Deep.<br/>Your Losses Shouldn't Be.
                                    </h2>
                                    <p className="text-slate-300 text-lg leading-relaxed mb-8 border-l-2 border-orange-500 pl-6">
                                        Traditional audits miss 40% of invoice discrepancies. Fathom cross-references satellite AIS data against carrier invoices to detect detention & demurrage errors in real-time.
                                    </p>
                                    
                                    {/* Mock Invoice UI - Clickable */}
                                    <div onClick={() => openModal('signup')} className="bg-white rounded-lg p-6 max-w-md shadow-lg transform rotate-1 hover:rotate-0 transition-transform duration-300 cursor-pointer group">
                                        <div className="flex justify-between items-center border-b border-gray-200 pb-4 mb-4">
                                            <div className="font-bold text-slate-800">INVOICE #9942</div>
                                            <div className="bg-red-100 text-red-600 px-2 py-1 text-xs font-bold rounded flex items-center gap-1">
                                                <Icons.AlertTriangle /> FLAGGED
                                            </div>
                                        </div>
                                        <div className="space-y-3 text-sm group-hover:opacity-80 transition-opacity">
                                            <div className="flex justify-between"><span className="text-gray-500">Container ID</span><span className="font-mono">MSCU99214</span></div>
                                            <div className="flex justify-between bg-blue-50 p-2 rounded -mx-2">
                                                <span className="text-blue-600 font-bold flex gap-2 items-center"><Icons.Globe width={16}/> AIS Actual</span>
                                                <span className="font-mono text-blue-800">Oct 14, 09:30</span>
                                            </div>
                                            <div className="pt-2 text-right text-red-600 font-bold text-xs">DISCREPANCY: 43.5 HOURS</div>
                                        </div>
                                        <div className="absolute inset-0 bg-blue-600/90 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-lg">
                                            <span className="text-white font-bold flex items-center gap-2"><Icons.Search /> INSPECT RECORD</span>
                                        </div>
                                    </div>
                                </div>
                            </FadeIn>
                            
                            <FadeIn direction="right" delay={300}>
                                <div>
                                    <ROICalculator onRecover={(data) => openModal('signup', data)} />
                                </div>
                            </FadeIn>
                        </div>
                    </div>

                    {/* SECTION 5: HOW IT WORKS */}
                    <div id="solutions" className="py-24 px-8 bg-slate-900/90 border-b border-white/5 relative overflow-hidden">
                        <div className="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:40px_40px] opacity-20"></div>
                        <div className="max-w-7xl mx-auto relative z-10">
                            <FadeIn direction="up">
                                <div className="text-center mb-20">
                                    <h2 className="cinzel text-4xl text-white font-bold mb-4 drop-shadow-[0_0_10px_rgba(255,255,255,0.3)]">The Fathom Protocol</h2>
                                    <div className="w-24 h-1 bg-gradient-to-r from-transparent via-blue-500 to-transparent mx-auto"></div>
                                </div>
                            </FadeIn>
                            <ProtocolAnimation onStepClick={(step) => openModal('protocol', step)} />
                        </div>
                    </div>

                    {/* SECTION 6: TESTIMONIALS */}
                    <div className="py-24 px-8 bg-slate-950/95 relative overflow-hidden">
                        <div className="absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-blue-900 to-transparent opacity-30"></div>
                        <div className="max-w-7xl mx-auto relative z-10">
                            <FadeIn>
                                <div className="flex items-center gap-4 mb-16 justify-center">
                                    <div className="h-px w-12 bg-slate-800"></div>
                                    <h2 className="cinzel text-3xl text-center text-white tracking-widest">INTERCEPTED COMMS</h2>
                                    <div className="h-px w-12 bg-slate-800"></div>
                                </div>
                            </FadeIn>
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                {[
                                    { id: "TRX-8992", name: "Sarah Jenkins", role: "VP Logistics, AutoCorp", msg: "Fathom found $2.4M in overcharged demurrage in our first quarter alone.", coords: "34.0522 N, 118.2437 W", status: "VERIFIED" },
                                    { id: "TRX-9941", name: "Marcus Chen", role: "Supply Chain Dir, TechFlow", msg: "The AIS verification is a game changer. We no longer argue with carriers; we just show the data.", coords: "1.3521 N, 103.8198 E", status: "VERIFIED" },
                                    { id: "TRX-7723", name: "Elena Rossi", role: "CFO, GlobalTrade", msg: "Implementation was seamless. We connected our ERP and started seeing flags within 24 hours.", coords: "51.5074 N, 0.1278 W", status: "VERIFIED" }
                                ].map((t, i) => (
                                    <FadeIn key={i} delay={i * 200} direction="up" className="h-full">
                                        <div className="group relative h-full bg-slate-900/60 backdrop-blur-sm border border-white/10 p-8 hover:bg-slate-800/80 transition-all duration-500 hover:border-blue-400/40 rounded-sm overflow-hidden">
                                            <div className="absolute top-0 left-0 w-3 h-3 border-l-2 border-t-2 border-slate-600 group-hover:border-blue-400 transition-colors duration-300"></div>
                                            <div className="absolute bottom-0 right-0 w-3 h-3 border-r-2 border-b-2 border-slate-600 group-hover:border-blue-400 transition-colors duration-300"></div>
                                            <div className="flex justify-between items-start mb-6 border-b border-white/5 pb-4">
                                                <div>
                                                    <div className="mono text-[10px] text-blue-400 tracking-widest opacity-70 mb-1">ID: {t.id}</div>
                                                    <div className="flex items-center gap-2 bg-green-900/20 px-2 py-1 rounded border border-green-500/20"><div className="w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse shadow-[0_0_5px_rgba(74,222,128,0.5)]"></div><span className="mono text-[10px] text-green-400 tracking-wider font-bold">{t.status}</span></div>
                                                </div>
                                                <div className="text-white/10 transform scale-150 group-hover:text-blue-500/20 transition-colors duration-500"><Icons.Quote /></div>
                                            </div>
                                            <div className="mb-8 relative z-10"><p className="text-slate-300 text-lg font-light leading-relaxed italic">"{t.msg}"</p></div>
                                            <div className="mt-auto flex items-center gap-4">
                                                <div className="w-10 h-10 bg-gradient-to-br from-blue-600 to-slate-800 flex items-center justify-center text-sm font-bold text-white border border-white/10 rounded shadow-lg group-hover:scale-110 transition-transform duration-300">{t.name.charAt(0)}</div>
                                                <div><div className="text-white font-bold text-sm cinzel tracking-wide group-hover:text-blue-300 transition-colors">{t.name}</div><div className="text-slate-500 text-[10px] uppercase tracking-widest">{t.role}</div></div>
                                            </div>
                                        </div>
                                    </FadeIn>
                                ))}
                            </div>
                        </div>
                    </div>

                    {/* SECTION 7: PRICING */}
                    <div id="pricing" className="py-24 px-8 bg-gradient-to-b from-slate-900 to-slate-950 border-t border-white/5">
                        <div className="max-w-7xl mx-auto">
                            <FadeIn>
                                <h2 className="cinzel text-4xl text-center mb-16 text-transparent bg-clip-text bg-gradient-to-b from-white via-blue-100 to-blue-400 drop-shadow-[0_0_15px_rgba(59,130,246,0.5)]">Deployment Tiers</h2>
                            </FadeIn>
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
                                {/* Starter */}
                                <FadeIn delay={0} direction="right" className="h-full">
                                    <div className="p-8 border border-blue-500/20 rounded-xl bg-slate-900/60 backdrop-blur-xl h-full flex flex-col hover:border-blue-400/50 transition-all hover:shadow-[0_0_30px_rgba(59,130,246,0.1)] group">
                                        <h3 className="cinzel text-xl text-blue-200 mb-2 group-hover:text-white transition-colors">Scout</h3>
                                        <div className="text-4xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-b from-white via-blue-100 to-blue-400">$499<span className="text-sm font-normal text-slate-500">/mo</span></div>
                                        <ul className="space-y-4 mb-8 text-slate-400 text-sm flex-1">
                                            <li className="flex gap-2"><Icons.Check width={16} className="text-blue-400"/> Up to 1,000 Containers</li>
                                            <li className="flex gap-2"><Icons.Check width={16} className="text-blue-400"/> Basic AIS Tracking</li>
                                            <li className="flex gap-2"><Icons.Check width={16} className="text-blue-400"/> Email Support</li>
                                        </ul>
                                        <button onClick={() => openModal('signup', { type: 'scout' })} className="w-full py-3 rounded-full bg-white/5 backdrop-blur-md border border-white/10 text-blue-100 font-bold hover:bg-white/10 hover:border-white/30 transition-all">START TRIAL</button>
                                    </div>
                                </FadeIn>

                                {/* Pro */}
                                <FadeIn delay={200} direction="up" className="h-full relative z-10">
                                    <div className="p-8 border-2 border-blue-400 rounded-xl bg-slate-900/80 backdrop-blur-xl relative transform md:scale-105 shadow-[0_0_50px_rgba(59,130,246,0.2)] h-full flex flex-col">
                                        <div className="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-blue-500 text-white px-4 py-1 text-xs font-bold rounded-full tracking-wider shadow-[0_0_15px_rgba(59,130,246,0.6)]">POPULAR</div>
                                        <h3 className="cinzel text-xl text-white mb-2">Navigator</h3>
                                        <div className="text-5xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-b from-white via-blue-100 to-blue-400 drop-shadow-[0_0_10px_rgba(59,130,246,0.5)]">$1,499<span className="text-sm font-normal text-slate-500">/mo</span></div>
                                        <ul className="space-y-4 mb-8 text-slate-300 text-sm flex-1">
                                            <li className="flex gap-2"><Icons.Check width={16} className="text-blue-400"/> Up to 10,000 Containers</li>
                                            <li className="flex gap-2"><Icons.Check width={16} className="text-blue-400"/> Real-time Satellite Feed</li>
                                            <li className="flex gap-2"><Icons.Check width={16} className="text-blue-400"/> Automated Disputes</li>
                                        </ul>
                                        <button onClick={() => openModal('signup', { type: 'navigator' })} className="w-full py-3 rounded-full bg-gradient-to-r from-blue-600/90 to-blue-500/90 backdrop-blur-md border border-blue-400/30 text-white font-bold hover:shadow-[0_0_30px_rgba(59,130,246,0.6)] transition-all">DEPLOY NOW</button>
                                    </div>
                                </FadeIn>

                                {/* Enterprise */}
                                <FadeIn delay={400} direction="left" className="h-full">
                                    <div className="p-8 border border-blue-500/20 rounded-xl bg-slate-900/60 backdrop-blur-xl h-full flex flex-col hover:border-blue-400/50 transition-all hover:shadow-[0_0_30px_rgba(59,130,246,0.1)] group">
                                        <h3 className="cinzel text-xl text-blue-200 mb-2 group-hover:text-white transition-colors">Admiral</h3>
                                        <div className="text-4xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-b from-white via-blue-100 to-blue-400">Custom</div>
                                        <ul className="space-y-4 mb-8 text-slate-400 text-sm flex-1">
                                            <li className="flex gap-2"><Icons.Check width={16} className="text-blue-400"/> Unlimited Volume</li>
                                            <li className="flex gap-2"><Icons.Check width={16} className="text-blue-400"/> On-premise Deployment</li>
                                            <li className="flex gap-2"><Icons.Check width={16} className="text-blue-400"/> Dedicated Account Mgr</li>
                                        </ul>
                                        <button onClick={() => openModal('enterprise')} className="w-full py-3 rounded-full bg-white/5 backdrop-blur-md border border-white/10 text-blue-100 font-bold hover:bg-white/10 hover:border-white/30 transition-all">CONTACT SALES</button>
                                    </div>
                                </FadeIn>
                            </div>
                        </div>
                    </div>

                    {/* SECTION 8: FINAL CTA */}
                    <div className="py-32 px-8 bg-gradient-to-br from-blue-900 via-slate-900 to-black text-center relative overflow-hidden border-y border-blue-500/20">
                        <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-30 mix-blend-overlay" style={{ transform: 'scale(1.2)' }}></div>
                        <div className="absolute inset-0 shadow-[inset_0_0_150px_rgba(2,6,23,0.9)] pointer-events-none"></div>
                        <div className="relative z-10 max-w-4xl mx-auto">
                            <FadeIn direction="up">
                                <h2 className="cinzel text-5xl md:text-6xl text-white font-bold mb-8 drop-shadow-[0_10px_10px_rgba(0,0,0,0.8)]">Stop Leaking Revenue Today.</h2>
                                <p className="text-xl text-blue-200 mb-12 drop-shadow-lg">Join 500+ forwarders who have recovered millions with Fathom's intelligence engine.</p>
                                <div className="flex flex-col md:flex-row gap-6 justify-center">
                                    <button onClick={() => openModal('signup')} className="px-10 py-5 rounded-full bg-white/90 backdrop-blur-md border border-white/50 text-blue-900 font-bold text-lg hover:bg-white hover:scale-105 transition-all shadow-[0_0_30px_rgba(255,255,255,0.3)]">
                                        GET STARTED
                                    </button>
                                    <button onClick={() => openModal('signup')} className="px-10 py-5 rounded-full bg-white/5 backdrop-blur-md border border-white/10 text-white font-bold text-lg hover:bg-white/10 hover:border-white/30 transition-all">
                                        START 7-DAY FREE TRIAL
                                    </button>
                                </div>
                            </FadeIn>
                        </div>
                    </div>

                    {/* SECTION 9: FOOTER */}
                    <footer className="bg-black py-16 px-8 border-t border-white/10 text-slate-400 text-sm">
                        <FadeIn delay={200}>
                            <div className="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-12">
                                <div>
                                    <div className="text-white cinzel font-bold text-2xl flex items-center gap-2 mb-6 cursor-pointer" onClick={() => scrollToSection('root')}>
                                        <span className="text-ocean-light"></span> FATHOM
                                    </div>
                                    <p className="mb-6">Maritime intelligence for the modern supply chain.</p>
                                    <div className="flex gap-4">
                                        <div onClick={() => window.open('https://linkedin.com', '_blank')} className="w-8 h-8 bg-white/10 rounded hover:bg-white/20 cursor-pointer transition-colors"></div>
                                        <div onClick={() => window.open('https://twitter.com', '_blank')} className="w-8 h-8 bg-white/10 rounded hover:bg-white/20 cursor-pointer transition-colors"></div>
                                        <div onClick={() => window.open('https://youtube.com', '_blank')} className="w-8 h-8 bg-white/10 rounded hover:bg-white/20 cursor-pointer transition-colors"></div>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 className="text-white font-bold mb-4 uppercase tracking-widest text-xs">Platform</h4>
                                    <ul className="space-y-2">
                                        <li><button onClick={() => scrollToSection('solutions')} className="hover:text-white transition-colors">Features</button></li>
                                        <li><button onClick={() => alert('Integrations Page')} className="hover:text-white transition-colors">Integrations</button></li>
                                        <li><button onClick={() => alert('Security Page')} className="hover:text-white transition-colors">Security</button></li>
                                        <li><button onClick={() => alert('API Docs')} className="hover:text-white transition-colors">API Docs</button></li>
                                    </ul>
                                </div>

                                <div>
                                    <h4 className="text-white font-bold mb-4 uppercase tracking-widest text-xs">Company</h4>
                                    <ul className="space-y-2">
                                        <li><button onClick={() => alert('About')} className="hover:text-white transition-colors">About Us</button></li>
                                        <li><button onClick={() => alert('Careers')} className="hover:text-white transition-colors">Careers</button></li>
                                        <li><button onClick={() => alert('Press')} className="hover:text-white transition-colors">Press</button></li>
                                        <li><button onClick={() => openModal('enterprise')} className="hover:text-white transition-colors">Contact</button></li>
                                    </ul>
                                </div>

                                <div>
                                    <h4 className="text-white font-bold mb-4 uppercase tracking-widest text-xs">Legal</h4>
                                    <ul className="space-y-2">
                                        <li><button onClick={() => alert('Privacy')} className="hover:text-white transition-colors">Privacy Policy</button></li>
                                        <li><button onClick={() => alert('Terms')} className="hover:text-white transition-colors">Terms of Service</button></li>
                                        <li><button onClick={() => alert('Cookies')} className="hover:text-white transition-colors">Cookie Settings</button></li>
                                    </ul>
                                    <div className="mt-6 mono text-xs text-slate-600">
                                         2024 FATHOM INC.<br/>SAN FRANCISCO, CA
                                    </div>
                                </div>
                            </div>
                        </FadeIn>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>